{"version":2,"kind":"Article","sha256":"e38cd47b5407a1cc09fb367338394c8937d8589ab0842fa35f9a00b7b2963756","slug":"stactools-old-example","location":"/OSC/stactools_old_example.md","dependencies":[],"frontmatter":{"title":"Stactools Full Example","content_includes_title":false,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples","subject":"EarthCODE Examples","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples/blob/main/OSC/stactools_old_example.md","thumbnail":"/examples/build/a3d324b2c4f13ee9a02493e9c4d6e948.png","exports":[{"format":"md","filename":"stactools_old_example.md","url":"/examples/build/stactools_old_exampl-9ddeb1aba0f73f983058ee582bf2fc28.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"System requirements","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VkWdAY8kfI"}],"key":"u2Pcoetn0K"}],"identifier":"system-requirements","label":"System requirements","html_id":"system-requirements","implicit":true,"key":"wp4LWKqxfh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Ubuntu OS min version > 20. Script tested on Ubuntu 22.04 and Ubuntu 20.04 version.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JEt4pL17uU"}],"key":"T3z9aKoPkR"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Minimum requirements: 2 GB RAM, 2 CPUs, 32 GB of disk space.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"J5OKjJ2XB0"}],"key":"QZr1o7vBxu"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"User with full sudo privileges to run all Linux commands and install packages as root.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"L78DVIYSpZ"}],"key":"Huoux9RTCG"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Selection of packages to be installed in order to run bash script:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bm5el7QO0C"}],"key":"TlepyHfxDa"},{"type":"text","value":" python 3 ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"OTPYv1aqF3"},{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":",","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"cefRhH32Bw"}],"key":"TItgnOOUsM"},{"type":"text","value":" gdal ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ZDDShyd6wT"},{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":",","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jawJwhH1oD"}],"key":"KBDSjYEmQi"},{"type":"text","value":" tree, jq, parallel ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CZHnZKOjLj"},{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":",","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"DuDR8MPGF8"}],"key":"k0MNVZehDs"},{"type":"text","value":" curl, stactools.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ArdTJ076zz"}],"key":"Fz1O7YS7FI"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Python 3.8 or greater","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"YaFAva76LW"}],"key":"uPILMTiTKy"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Following dependencies are necessary to make correct conversion of products to be published: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XnArTxd1DZ"},{"type":"inlineCode","value":"stactools","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ksQpmzTA6b"},{"type":"text","value":" - to manage STAC catalogs\n","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"FoW1jxCJw7"},{"type":"inlineCode","value":"stactools-datacube","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"cgFmAtAqMQ"},{"type":"text","value":" - to enrich STAC items with datacube metadata\nPlease find full documentation and installation instructions here: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"lxBrPXkdu0"},{"type":"link","url":"https://stactools.readthedocs.io/en/stable/index.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://​stactools​.readthedocs​.io​/en​/stable​/index​.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"caeKA8QPzY"}],"urlSource":"https://stactools.readthedocs.io/en/stable/index.html","key":"cz5ye2AFX7"}],"key":"Z0lZcaHE95"}],"key":"Y1axIlp5z7"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Add metadata of a single product (item) to the catalogue","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"tm8zDh5CPE"}],"key":"Q6TlFHljaH"}],"identifier":"add-metadata-of-a-single-product-item-to-the-catalogue","label":"Add metadata of a single product (item) to the catalogue","html_id":"add-metadata-of-a-single-product-item-to-the-catalogue","implicit":true,"key":"cAdKbPVyjN"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Manual ingestion of single item into catalogue is rather simple and straightforward when you have all metadata prepared correctly and when you follow these few steps on how to add new product (collection.json) to a publicly open repository of Open Science Data Catalogue.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"FjoHnUtTPY"}],"key":"dy9Xtn79o2"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Please note that this workflow is applicable also to other elements of the catalogue such as Projects, Themes, Variables, EO Missions.\nHere the procedure of adding or updating metadata of single item using GitHub on Web browser is provided.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"lFwC6CphFm"}],"key":"kfXVeunMCp"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Go to ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"v58Vj5i2Bo"},{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"open-science-catalog-metadata-staging","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"v2H1oLa7Zk"}],"key":"FgZFWDBhIh"},{"type":"text","value":" repository:\n","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"lS40XwQlv9"},{"type":"link","url":"https://github.com/EOEPCA/open-science-catalog-metadata-staging","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/EOEPCA​/open​-science​-catalog​-metadata​-staging","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ZkqQVuowTV"}],"urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata-staging","error":true,"key":"l2rNWI0Sdx"}],"key":"W5pjwhLZqC"}],"key":"v6dA3UrRvt"},{"type":"image","url":"/examples/build/a3d324b2c4f13ee9a02493e9c4d6e948.png","alt":"osc-metadata-github","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"rvgsZS2R5Y","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/b852819b-5ed5-4a51-bc09-cf4cfdf05ff9"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Go to ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"twhUfyDoZs"},{"type":"strong","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"/products/","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"mtvMslOUgN"}],"key":"NAcEde0VA5"},{"type":"text","value":" folder to extend the list of products:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"wJ3CAOFafh"}],"key":"B1ne1aTrjo"}],"key":"IYM5hGLuq1"},{"type":"image","url":"/examples/build/679c81433efe79127747f361a91cd42b.png","alt":"products-github","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"lC2iNh6fIW","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/1b4cd860-c7ed-431b-8b9d-128bbf051e0e"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":32,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Open any folder with the short product name and check the metadata file stored in ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"wT5k7qhbT2"},{"type":"emphasis","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"collection.json","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"rRD2liWSMI"}],"key":"nLCl1e32tY"},{"type":"text","value":" format.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"SC49lU6Src"}],"key":"auLLJWvAfp"}],"key":"UQqpOAXZlP"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Click on Editing mode and open JSON file with ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"YOmH8gZ5ir"},{"type":"link","url":"http://github.dev","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"github.dev","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"snhINu90qQ"}],"urlSource":"http://github.dev","key":"jcV2Lc8q9j"},{"type":"text","value":" to make changes or to copy the content of JSON file in web-based editor.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"oSzbfiOhwd"}],"key":"eRUSyvEmAZ"}],"key":"CY0pVSZwVN"}],"key":"IdKI5mdFzi"},{"type":"image","url":"/examples/build/c453c2e6bf2446e0bcca98f6d60562ff.png","alt":"collection-json-github","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"OCY6XUnNou","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/b3c0ea6b-32e0-40ef-9ad9-3cab050d16c1"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"In GutHub web-based text editor (","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"Co2SUIINmU"},{"type":"link","url":"http://github.dev","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"github.dev","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"vGqHNibTG6"}],"urlSource":"http://github.dev","key":"it0khaJuUb"},{"type":"text","value":"), select “Source controller” and “Create a new branch”","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"sIPIiZuC7z"}],"key":"Nvp2w6Njty"}],"key":"OmpWTfverN"},{"type":"image","url":"/examples/build/4d981998c705cb6a03b51e7a288b6b73.png","alt":"branch-git","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"nfvMeTDQxu","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/d69402d5-786b-4304-805e-cd6e47885da2"},{"type":"list","ordered":true,"start":6,"spread":false,"position":{"start":{"line":42,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Switch to new Branch:","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"eJFhmGDNzr"}],"key":"kjCX5446Kz"}],"key":"qfD5qsF50N"},{"type":"image","url":"/examples/build/13def57e6c897709ee7a5ab756ff7169.png","alt":"switch-branch","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"EIZ7Kps7As","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/9229d871-de81-4921-ba95-1aaaeb51db44"},{"type":"list","ordered":true,"start":7,"spread":false,"position":{"start":{"line":46,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Go to ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"T5njdXFE8Y"},{"type":"strong","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"Explorer","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"UzdLKegAQN"}],"key":"HDzhSNe9wo"},{"type":"text","value":" and Add a new folder where you can store the collection.json with metadata of your Product. Name your folder with a unique name (id) that you give to your product!\n","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"hMEPs0NoP4"},{"type":"image","url":"/examples/build/7f93619bf14b028e0a15fe9e34556107.png","alt":"github-dev1","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"UTnFUmKs8M","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/4ab60f05-5fbf-4d8a-aeb4-c523c2d3557b"}],"key":"Sv8fwWgIbE"}],"key":"ldzWihDsHg"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Create collection.json file and add all metadata needed for the product. The simplest way to create a new collection.json is to CTRL+A and CTRL+C of existing collection.json (even from different project and CTRL+V to a new empty collection.json created.","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"S4YdeUoeHa"}],"key":"iqSwNV8a9q"}],"key":"fumKeeNCZc"}],"key":"b0RoKR71Xy"},{"type":"image","url":"/examples/build/2bc31118d11cc50dceddb7f0bf19143e.png","alt":"collection-json-inside","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"i9V3MS6hvk","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/405aadda-8826-4c8e-a383-c03e7b96378f"},{"type":"list","ordered":true,"start":9,"spread":false,"position":{"start":{"line":54,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"You can see the file being modified with the capital letter M.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"QsIBBjQVxp"}],"key":"qyVed8fKzn"}],"key":"CUm05fKPep"},{"type":"image","url":"/examples/build/4c2fc7fcbaae91464aa0e7256ea3bf4b.png","alt":"github-dev-5","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"ZZcUvKeIqw","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/8492a338-c15d-4746-86d5-7a2429c3b6e5"},{"type":"list","ordered":true,"start":10,"spread":false,"position":{"start":{"line":58,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Commit and Push changes from Source Control Panel. Write a purpose or a subject of changes made in the “Message” field.","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"FahXFKWPJv"}],"key":"Rme1fctyUh"}],"key":"d34ISH1n6t"},{"type":"image","url":"/examples/build/1b5e4d1baad4afa61b08d4cd6ce766cf.png","alt":"github-dev-6","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"m2prlgjKDi","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/c90f301d-da5e-4f18-b4fa-77ab0dc1f580"},{"type":"list","ordered":true,"start":11,"spread":false,"position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"Create Pull Request to request changes in the repository!","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"ijHsHIab0V"}],"key":"q4dAUPvuCy"}],"key":"EEhi579TKX"},{"type":"image","url":"/examples/build/10cbe28cbc567a9f634ec99cfb9c6cfc.png","alt":"createPR","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"HXR53zKe3i","urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/assets/120453810/ff7ccbaa-75f1-4568-81ce-ed1a052e0ecd"},{"type":"list","ordered":true,"start":12,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"Once created the Pull Request will be accepted or rejected by open-science-catalog-metadata administrator.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"ezQQAeuCES"}],"key":"k1d3BDHnhu"}],"key":"uUB1Vht0H6"},{"type":"heading","depth":2,"position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"strong","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"Ingest metadata of assets with STAC Catalog","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"fVEBm4Ii2r"}],"key":"SFQNYZ1uMq"}],"identifier":"ingest-metadata-of-assets-with-stac-catalog","label":"Ingest metadata of assets with STAC Catalog","html_id":"ingest-metadata-of-assets-with-stac-catalog","implicit":true,"key":"CsPwM542Zz"},{"type":"paragraph","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"text","value":"As mentioned in the previous sub-chapter metadata repository is stored in the GitHub repository. For ingestion of data that are stored in structural catalog, user should convert this file structure to ingest to STAC catalog. Then created STAC collection can be directly imported to GitHub and merged to existing Open Science Data Catalogue repository.","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"X93nsUBmb2"}],"key":"ClsbPaxh58"},{"type":"paragraph","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"To convert the file structure to STAC collection, please refer to ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"KoBzKMsFzY"},{"type":"link","url":"https://stactools.readthedocs.io/en/stable/index.html","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"stactools documentation","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"BfPkd3hqqV"}],"urlSource":"https://stactools.readthedocs.io/en/stable/index.html","key":"dVum9VIWh4"},{"type":"text","value":", which describes best practices on creation of such collection.","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"CSjnCUhiwD"}],"key":"sU5ZnupKRm"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Data owners interested in ingestion of multiple products to the catalog are asked to convert their dataset directly into STAC items collection. This especially refers to large datasets (e.g. multitemporal .nc files containing monthly products for a time period of 20 years). Is such case data owners or principal investigators of the project will be provided with script which facilitates that process of ingestions if such products, allowing their conversion to .json STAC items collection.","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"FoCcCsY3Gb"}],"key":"wwk1zHs1WH"},{"type":"heading","depth":2,"position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"strong","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"Add multiple or single product(s) stored in external server (open-access storage) with STAC Catalogue","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"D90KrLY2Ev"}],"key":"njI3EDp7DS"}],"identifier":"add-multiple-or-single-product-s-stored-in-external-server-open-access-storage-with-stac-catalogue","label":"Add multiple or single product(s) stored in external server (open-access storage) with STAC Catalogue","html_id":"add-multiple-or-single-product-s-stored-in-external-server-open-access-storage-with-stac-catalogue","implicit":true,"key":"MOigNeBtze"},{"type":"paragraph","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"In the previous section the steps applied described a process to ingest metadata and the access to products stored in external server which may provide open data access to anyone or to registered users in some cases.","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"U7wecRtDRr"}],"key":"qh7QOw9ma0"},{"type":"paragraph","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"In this scenario complete instructions are provided for how to import larger datasets when multiple changes to the files stored in open science data catalog in GitHub repository are required. With our current system, it is impossible for the user to keep track 10+ open pull requests, so when user requires multiple changes at once, Git with a code editor is recommended.","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"wYCAkOdJ2r"}],"key":"LDCEP3qIDk"},{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"The description on how to import STAC catalogue which is preferred method of an ingestion of asset metadata is described in details. This will allow end users to access metadata of individual granules (stored originally in the cloud-native external server) and download them to local storage separately without the need of bulk downloading of all files at once. The workflow includes:","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"V6cr4wptgm"}],"key":"v8IMnfXP38"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":84,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"strong","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Find the description of the dataset in Open Science Data Catalogue frontend","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"nfZzYSnorp"}],"key":"gFAwyXL9RE"},{"type":"text","value":".\nIf the product (dataset) does not exist in the catalog yet, add it to the catalog first! (see subchapter above).","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"e08MA8vHgT"}],"key":"YVqrf2jXzK"}],"key":"yEqOWkH5IM"},{"type":"listItem","spread":true,"position":{"start":{"line":87,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":87,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"strong","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Prepare an upload dataset (assets / granules)","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"JyPKdA2heZ"}],"key":"JcKHryhrRy"},{"type":"text","value":"\nThis step is a ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"TE6KISqqHI"},{"type":"strong","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"prerequisite that must be met for any data collection to make it publicly available and allow end user to discover and use the data.","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"frdE1LJZvD"}],"key":"bTWo30dYux"},{"type":"text","value":" This can be done in two modes:\na) uploading data to s3 bucket administrated by OSC developers,\nb) ","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"hdaM00zTIe"},{"type":"strong","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"provide link to capable HTTP where files","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"Es6hApj6ZD"}],"key":"XoakteqiUe"},{"type":"text","value":" are already available to download or / and preview.","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"cZSnctfRY7"}],"key":"S3yj9ZFzlo"}],"key":"nWMyrF3V05"}],"key":"wzNzQfF03Z"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"In this case assets are stored in open-access repository:\n","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"Vkq5ncf1aK"},{"type":"cite","url":"https://zenodo.org/record/7568049#.ZDbG4nbP1aQ","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Maddalena ","key":"mmDLDYfz6z"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"orkKGgiTHZ"}],"key":"ty9lQf1dNj"},{"type":"text","value":" (2023)","key":"MIp2ZuEh38"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.7568049","identifier":"https://zenodo.org/record/7568049#.ZDbG4nbP1aQ","enumerator":"1","key":"SMGCD9BfA6"},{"type":"text","value":".","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"YxmoovCt6t"}],"key":"WXBJyVRIpA"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"strong","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Therefore, no preliminary steps are required related to data relocation from this source repository.","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"hXwdFYXYJY"}],"key":"TDQvCE7Gfj"},{"type":"text","value":"\nThe preparation of the dataset must consist first of assessing the exact full path to original repository for each granule. In this case the list of products is loaded and save in standard text file:","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"a9NebzuWK8"}],"key":"sa9gIGoHIt"},{"type":"code","lang":"bash","value":"curl -sL \"https://zenodo.org/record/7568049#.ZDbG4nbP1aQ\" | grep -oP '<a href=\"\\K([^\"]+\\.tif)' > tiff_links.txt ; sed -i 's|^|https://zenodo.org|' tiff_links.txt","position":{"start":{"line":97,"column":1},"end":{"line":99,"column":1}},"key":"nuZbdTfYCj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":100,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"In case of a long list of files to be converted at once it is advised to split the list of links for each granule into smaller list. It has been confirmed that up to 10 files can be written to JSON format at once using the tool proposed.","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"xuJ1Mk7LBz"}],"key":"wHQUIN4nM3"}],"key":"bspMghR37O"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":102,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"strong","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Create STAC Catalog for the dataset","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"J69ThZSCwA"}],"key":"KkxtaTopzR"}],"key":"appFsNwaTO"}],"key":"HOCQixAHdk"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"a. Create a structure of ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"PzEIMCMQey"},{"type":"emphasis","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"catalog.json","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"dN2CyDdACg"}],"key":"fPRKSL2E9A"},{"type":"text","value":" (could only be 1, but depending on the dataset size and structure it can be more)\nb. Create STAC Items data items (granules). Either:\ni. ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"EpQjEpxkoZ"},{"type":"strong","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"for 2D raster datasets:","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"nDn5DO7hD5"}],"key":"TbmkHCorWB"},{"type":"text","value":" _ ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"ruVuVarlpC"},{"type":"strong","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"inlineCode","value":"stac create-item","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"ppSt7ZwouG"}],"key":"npEBzYnvwh"},{"type":"text","value":" _\nii. for netcdfs/ZARRs ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"qJ9pIcHd9o"},{"type":"emphasis","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"inlineCode","value":"stac datacube create","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"cjGcTcPsEv"}],"key":"NPPLQQ78A5"},{"type":"text","value":"\niii. other tools?\niv. or manually***","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"uRiF0QK0V0"}],"key":"dpUV1zwrNX"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"In this scenario a 2D raster datasets are used and the STAC catalog is created with open-source ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"YyZo0E2Akv"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"tool ‘stac create-item’","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"yvfaPRylY9"}],"key":"vvFeRYT89W"},{"type":"text","value":" (i). In case of multiple items to be converted at once, a for loop is created to create stac item .json file for each granule by accessing separate item in a loop:","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"puqWHPWVAV"}],"key":"W4cDiWdIhA"},{"type":"code","lang":"bash","value":"mkdir item_files ; for line in $(cat tiff_links.txt); do item_json=\"item_files/item_$line_number.json\"; echo $line ; stac create-item \"$line\" | tee \"$item_json\"; sleep 3; ((line_number++)); done < \"tiff_links.txt\"","position":{"start":{"line":113,"column":1},"end":{"line":115,"column":1}},"key":"cStkLvLP1Q"},{"type":"paragraph","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"** Note: once files are created, you can access the metadata by opening and reading single item.json file with cat item.json","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"i90yYLaG2P"}],"key":"RcVlAsvMVZ"},{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"*** Future updates in the guide are foreseen and guidance specific to most commonly used data formats will be provided. To manually create JSON file, please refer to general file structure provided in the STAC documentation: ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"rgCOVVeLlu"},{"type":"link","url":"https://github.com/radiantearth/stac-spec/blob/master/examples/core-item.json","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"examples​/core​-item​.json","key":"WI3kDQea7a"}],"urlSource":"https://github.com/radiantearth/stac-spec/blob/master/examples/core-item.json","data":{"kind":"file","org":"radiantearth","repo":"stac-spec","reference":"master","file":"examples/core-item.json","raw":"https://raw.githubusercontent.com/radiantearth/stac-spec/master/examples/core-item.json"},"internal":false,"protocol":"github","key":"d3cdVvPiYx"},{"type":"text","value":".","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"R5XSpjdNFw"}],"key":"REWi3m9Xcs"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"c. ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"BqObdwZW3I"},{"type":"strong","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Add STAC Items into Catalog structure","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"arIGUsM0qX"}],"key":"xkA2IDvs0z"}],"key":"a3Mm4FlVim"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"To create appropriately ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"v4spRLHCbo"},{"type":"emphasis","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"catalog.json","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"Am9RYeOiPF"}],"key":"wcBuMCOgxS"},{"type":"text","value":" file that lists ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"feT2fY8YRQ"},{"type":"strong","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"all related items","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"V4IPI1MHBU"}],"key":"U30YAk17cg"},{"type":"text","value":" to specific collection and gathers them in the catalog, it is necessary to follow strict ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"fKBgSdaTdH"},{"type":"emphasis","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"catalog.json","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"PDIjxdS9Jl"}],"key":"nQu9KiH3TW"},{"type":"text","value":" file formatting as suggested in:","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"vcL84Ysr9k"}],"key":"aTN5KCLtZo"},{"type":"paragraph","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"link","url":"https://github.com/radiantearth/stac-spec/blob/master/examples/catalog.json","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"strong","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"https://github.com/radiantearth/stac-spec/blob/master/examples/catalog.json","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"HmYdjnQ11p"}],"key":"uXSJbRdy6N"}],"urlSource":"https://github.com/radiantearth/stac-spec/blob/master/examples/catalog.json","data":{"kind":"file","org":"radiantearth","repo":"stac-spec","reference":"master","file":"examples/catalog.json","raw":"https://raw.githubusercontent.com/radiantearth/stac-spec/master/examples/catalog.json"},"internal":false,"protocol":"github","key":"XULPiYJ7c3"}],"key":"W8mTEKLE0U"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"strong","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Please download the template on how this catalog.json should looks like and","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"Ab7gwLzsPp"}],"key":"BtM1084A97"},{"type":"text","value":"  ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"IDyM1vlIJJ"},{"type":"strong","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"upload it into the directory where the item files are stored.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"vWRwYgJ99a"}],"key":"pvOlqan4in"}],"key":"qMFMQMvkBp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":129,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"strong","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Make necessary correction to imported catalog.json example file:","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"Dwjldd7vXn"}],"key":"iCl4NIrsk3"}],"key":"tWu1Dax9qQ"}],"key":"yJyrPdjgD1"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"the only changes which are required is to ","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"VtmT93rJ6S"},{"type":"strong","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"remove “child” and “item” entries","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"ppe5HsLNLG"}],"key":"CCI7TvjDl0"},{"type":"text","value":" from the catalog.json.","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"VVmFfTtmdP"}],"key":"wlmXpsh8KH"}],"key":"JAbrmFNDch"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Item entries will be updated automatically once you add the assets.","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"xmL6TFRlP5"}],"key":"FbAfld3lbw"}],"key":"SsoeuuVMBh"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Update the default description and title of the catalog","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"oIQJOy7nro"}],"key":"F82XDfdH6w"}],"key":"dNRjdmvogC"}],"key":"jECw1bj2Ou"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"The final catalog.json should looks like this:","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"k3HKMo4P0i"}],"key":"D38ZQVzGah"},{"type":"code","lang":"json","value":"\n{\n  \"type\": \"Catalog\",\n  \"id\": \"examples\",\n  \"title\": \"Example catalog\",\n  \"stac_version\": \"1.0.0\",\n  \"description\": \"This catalog is a simple demonstration of an example catalog that is used to organize STAC Items\",\n  \"links\": [\n    {\n      \"rel\": \"self\",\n      \"href\": \"https://raw.githubusercontent.com/radiantearth/stac-spec/v1.1.0/examples/catalog.json\",\n      \"type\": \"application/json\"\n    },\n    {\n      \"rel\": \"root\",\n      \"href\": \"./catalog.json\",\n      \"type\": \"application/json\",\n      \"title\": \"Example catalog\"\n    }\n  ]\n}","position":{"start":{"line":137,"column":1},"end":{"line":159,"column":1}},"key":"RjiFKMmHr8"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"NOTE: While working on Linux based environment you can make changes with ","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"n9hDvonCIT"},{"type":"inlineCode","value":"vi catalog.json","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"Bs774J5390"},{"type":"text","value":" in terminal.","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"JBLranQdFA"}],"key":"VXKO01UkPY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"**Add STAC Items to a common  _","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"BaHggphrhF"},{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"catalog.json","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"xihoP8FNDG"}],"key":"TZnKOEe8jb"},{"type":"text","value":" _ ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"CQyerMRHoS"},{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"by applying","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"btahNLwxoa"}],"key":"EMHuwuYswj"},{"type":"text","value":" _ ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"epanLludZ0"},{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"‘stac add’","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"K1gJEdM2iv"}],"key":"MTWjUXwO7u"},{"type":"text","value":" _ ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"wq2nUKsd5k"},{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"command","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"ra0BqvIErn"}],"key":"YQcjZctFgX"}],"key":"CclQrS7zKn"}],"key":"OYsYxFhboq"},{"type":"code","lang":"bash","value":"for item_file in item_files/item_*.json; do stac add \"$item_file\" catalog.json; done;","position":{"start":{"line":163,"column":1},"end":{"line":165,"column":1}},"key":"qK3RrN7gd2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":166,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":166,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Export the catalog structure","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"djnCPfJ3Xv"}],"key":"ls0SkQZq8v"},{"type":"text","value":" _ ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"jkotaAoQe8"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"inlineCode","value":"stac copy","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"vXJlAwH4ym"}],"key":"eq3Kx2OjcF"},{"type":"text","value":" _","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"udhsNCO251"}],"key":"Jzgg1CS9eB"}],"key":"vErDxV9yTC"},{"type":"paragraph","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"strong","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Before performing this step, remember to","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"q3tENqZtEE"}],"key":"INvIF2GnVB"},{"type":"text","value":"  ","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"mTXdejHBYD"},{"type":"strong","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"change the directory","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"NclcV49pIT"}],"key":"I179LYKe1M"},{"type":"text","value":"  ","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"vhk2dRvsTr"},{"type":"strong","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"from the input data collection to output repository which will be copied to s3 bucket!","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"WeaOqtScV4"}],"key":"ky8FWoe9IW"}],"key":"ago3MAKVCI"},{"type":"code","lang":"bash","value":"stac copy catalog.json item_10files/out_json/ -l[https://s3.waw2-1.cloudferro.com/swift/v1/AUTH_3f7e5dd853f54cebb046a29a69f1bba6/Catalogs/4DGreenland/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/catalog.json](https://s3.waw2-1.cloudferro.com/swift/v1/AUTH_3f7e5dd853f54cebb046a29a69f1bba6/Catalogs/4DGreenland/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/catalog.json)","position":{"start":{"line":169,"column":1},"end":{"line":171,"column":1}},"key":"Z8RWhwQhqJ"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"NOTE: Check first the location of your product within the Open Science Data Catalog repository!","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"vOrUhEgdD2"}],"key":"yWnJSJ8VhI"},{"type":"list","ordered":true,"start":4,"spread":false,"position":{"start":{"line":174,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":174,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"strong","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Upload STAC Catalog to S3 or another HTTP service","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"k9RGO9RGfU"}],"key":"gczNmdfeSm"}],"key":"fMAE1bNE4f"}],"key":"kOvILAGODG"},{"type":"paragraph","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"With this simple command all JSON files (single granules) are moved to dedicated OSC s3 bucket metadata repository:","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"Fn4vqOfZub"}],"key":"pOyaA6By7e"},{"type":"paragraph","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"inlineCode","value":"s3cmd sync item_10files/out_json/ s3://Catalogs/4DGreenland/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"KA9hshX23O"}],"key":"uHPvy7neri"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":180,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":180,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"strong","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"Add reference to Product’s metadata and give access to created STAC Catalog","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"wfA8r1aJpj"}],"key":"goOleHycct"}],"key":"T1cN2g3MrX"}],"key":"i2ZerJsboj"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"In OSC Catalogue find target product which needs to be updated with the STAC Item’s collection. To perform this step '","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"fYdIJwJrvT"},{"type":"emphasis","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"href’","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"r9PqJS82oG"}],"key":"dJK5o36IqO"},{"type":"text","value":" link must be updated, by inserting the list to catalog.json file stored in s3 repository to Product’s collection.json file. As shown below:","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"DcpUrTHY5v"}],"key":"MWD5Aaorxa"},{"type":"code","lang":"bash","value":"{\n\"rel\": \"child\",\n\"href\": \"https://s3.waw2-1.cloudferro.com/swift/v1/AUTH_3f7e5dd853f54cebb046a29a69f1bba6/Catalogs/4DGreenland/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/catalog.json\",\n\"type\": \"application/json\",\n\"title\": \"Items\"\n}","position":{"start":{"line":183,"column":1},"end":{"line":190,"column":1}},"key":"HtTdNIKKCo"},{"type":"paragraph","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"strong","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"NOTE:","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"dZ9QAoXro6"}],"key":"Ff6JtLPGAq"},{"type":"text","value":" You can make changes using GitHub Desktop or within web-based editor as shown in the section before.","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"qPS8T0dLTr"}],"key":"iNZXw6yaZA"},{"type":"list","ordered":true,"start":6,"spread":false,"position":{"start":{"line":193,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":193,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"strong","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"Commit changes and create Pull Request","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"sbnqY8xU2k"}],"key":"m1dXTO25H0"}],"key":"cdeplrHWOH"}],"key":"lI1p8mAGMp"},{"type":"paragraph","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"Changes in Product description will be reviewed by OSC administrator and accepted or rejected by administrator.","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"BAsH6WNE0M"}],"key":"JZjUdftvSB"},{"type":"list","ordered":true,"start":7,"spread":false,"position":{"start":{"line":197,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":197,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"strong","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"Preview uploaded STAC granules collection in the Open Science Data Catalogue frontend:","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"IuF57wYkB5"}],"key":"WSIshycyzP"}],"key":"vIwnix15co"}],"key":"GteaxxgjyI"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"link","url":"https://opensciencedata.esa.int/products/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/collection","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"strong","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"https://opensciencedata.esa.int/products/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/collection","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"bGsxPtA8fw"}],"key":"wd6hKFeBWl"}],"urlSource":"https://opensciencedata.esa.int/products/supraglacial-storage-and-drainage-lake-features-mapped-by-sentinel1/collection","key":"ZxgdH2MAAE"}],"key":"n9I9PfKqbg"},{"type":"heading","depth":2,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"strong","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"Add multiple or single product(s) originally stored in local repository with STAC Catalogue","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"D5q7evngLo"}],"key":"UxUgE5Cyvx"}],"identifier":"add-multiple-or-single-product-s-originally-stored-in-local-repository-with-stac-catalogue","label":"Add multiple or single product(s) originally stored in local repository with STAC Catalogue","html_id":"add-multiple-or-single-product-s-originally-stored-in-local-repository-with-stac-catalogue","implicit":true,"key":"ygq3NTUIcR"},{"type":"paragraph","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"In this scenario large open-source datacube was investigated and made available to be used by open public. Steps presented in this scenario will allow to first change the location of the dataset to make them accessible to all users and create STAC Catalog filled with metadata from datacube. This will allow end users to access metadata of datacube which is accessible, downloadable and can be visualized or further processed in other locations (e.g. Jupyter Notebooks).","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"f7GnFSm6Tx"}],"key":"YtyvrmYzrY"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":205,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":205,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"strong","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"Prepare an upload data (assets / granules)","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"LvERuKNJFb"}],"key":"zwWTp92N2u"}],"key":"zZccKr21pt"}],"key":"ygubgQRAYB"},{"type":"paragraph","position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"This step is a prerequisite that must be met for any data collection to make it publicly available and allow end user to discover and use the data.\nThis can be done in two modes:","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"oU6WJjZ4VB"}],"key":"SsPQb9vjhO"},{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"strong","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"1) uploading data to s3 bucket administrated by OSC developers,","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"eGTX3TnbfD"}],"key":"qL9xTAylYm"},{"type":"text","value":"\n2) provide link to capable HTTP where files are already available to download or / and preview.","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"trgTe6n478"}],"key":"h1XeBuyeB2"},{"type":"paragraph","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"In this case the first mode will be used. Datacube is stored in .zip archive making it impossible to be directly accessed and explored. Therefore, a preliminary step required related to data relocation from source repository: ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"CFwxckg1ys"},{"type":"cite","url":"https://zenodo.org/record/8055879","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"Alonso ","key":"I5do16cqE6"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"qUAR4Dp14i"}],"key":"p0pvCgzBs9"},{"type":"text","value":" (2023)","key":"njXTs7G9n5"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.8055879","identifier":"https://zenodo.org/record/8055879","enumerator":"2","key":"dPZwxSnQBU"},{"type":"text","value":"to a dedicated folder in OSCAssets repository in Open Science Data Catalogue S3 storage.","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"deaEMxMKps"}],"key":"H9tuGg6Blg"},{"type":"paragraph","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"strong","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"text","value":"File relocation requires configured access to dedicated S3 bucket which in this case is granted only to authorized contributors.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"LAMPCGLh0R"}],"key":"Fdol0Tb6xY"}],"key":"e9M5JQbHlw"},{"type":"paragraph","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"Once configured, downloaded product should be extracted and relocated into designated storage, where it will become accessible for anyone.","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"qSaAbq1GWQ"}],"key":"ZDaSDNXcUM"},{"type":"code","lang":"bash","value":"s3cmd sync SeasFireCube_v3.zarr s3://OSCAssets/seasfire/seasfire-cube/SeasFireCube_v3.zarr","position":{"start":{"line":218,"column":1},"end":{"line":220,"column":1}},"key":"G1XGfcQHmJ"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":221,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":221,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"strong","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Create a STAC Catalog for the data","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"R7SdPraUwq"}],"key":"uaUjPo1Is1"},{"type":"text","value":"\na. Create a structure of catalog.json (could only be 1 if not more is necessary)\nb. Create STAC Items data items (granules). Either:\ni. for 2D raster datasets_: ","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"OwXSolm5i9"},{"type":"inlineCode","value":"stac create-item","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"STSWrQYIaW"},{"type":"text","value":"_\nii. ","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"tquOYinIq2"},{"type":"strong","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"for netcdfs/ZARRs","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"kGMrTACRR0"}],"key":"rFuV0ukLVF"},{"type":"text","value":" _ ","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"OKH12c5jB0"},{"type":"strong","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"inlineCode","value":"stac datacube create-item","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"gU5EGpxZGM"}],"key":"I2GhZCUQqd"},{"type":"text","value":" _\niii. other tools?\niv. or manually","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"RZUNxrxkti"}],"key":"q3ku7MFvIB"}],"key":"B7OERqvAN8"},{"type":"paragraph","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"** Future updates in the guide are foreseen and guidance specific to most commonly used data formats will be provided. To manually create catalog.json please refer to basic file structure provided in the STAC documentation.","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"GD35sPuMme"}],"key":"iZuFrfwEn0"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"In this scenario a 3D datacube is used and the STAC catalog is created with open-source ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"tbCU4PaqnS"},{"type":"emphasis","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"tool ‘stac datacube create-item’","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"MSPUkikeUa"}],"key":"ANkxDieRxr"},{"type":"text","value":". This command uses ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"XdFnSAQmhW"},{"type":"emphasis","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"‘stactools’","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"mdsjIwFJSz"}],"key":"IVOfpX3rNC"},{"type":"text","value":" extension package which allows to create or extend STAC Items dealing with multi-dimensional data formats and to extract datacube related metadata from these assets. Full documentation and the latest release of the package can be found under the link here: ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"acAmXfe2Gx"},{"type":"link","url":"https://pypi.org/project/stactools-datacube/","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"https://​pypi​.org​/project​/stactools​-datacube/","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"vHtDIQDpIO"}],"urlSource":"https://pypi.org/project/stactools-datacube/","key":"wkOxHWeTMR"},{"type":"text","value":". Once dataset is placed in designated location, it is possible to create JSON file with the following command:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"aoxPX92YKS"}],"key":"mn4s06m6fQ"},{"type":"code","lang":"bash","value":"stac datacube create-item s3://OSCAssets/seasfire/seasfire-cube/SeasFireCube_v3.zarr/ item.json '--use-driver ZARR","position":{"start":{"line":233,"column":1},"end":{"line":235,"column":1}},"key":"IfYi4nYuXk"},{"type":"paragraph","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"** Note: once files are created, you can access the metadata by opening and reading single item.json file with ","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"YyHURushPO"},{"type":"inlineCode","value":"cat item.json","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"Aav5SI6amV"}],"key":"E02TWZBIQq"},{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"Next steps taken to enable product to be discoverable within STAC Catalog are the same as in previous use case (see point ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"aVX51vBGxn"},{"type":"strong","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"2c - 5","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"v66Rgm2ukF"}],"key":"sxf6mA22wi"},{"type":"text","value":") and follow the steps described in this previous section.","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"Ys0f608Tch"}],"key":"x7uWltjKQO"},{"type":"paragraph","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"** Remember to change the folder name and product folder in s3 bucket to relate to adequate product in OSC**","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"EK1szv5cdX"}],"key":"fw9LMCZV0J"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":243,"column":1},"end":{"line":250,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":243,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":243,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"strong","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Commit changes and create Pull Request Preview uploaded STAC Item catalog:","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"VivMuXBTWj"}],"key":"yOfNbAezeG"},{"type":"text","value":"\nChanges in Product description will be reviewed by OSC administrator and accepted or rejected by administrator.","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"me4eSz7E7V"}],"key":"UpuZeGsojh"}],"key":"mQpAOOgqjl"},{"type":"listItem","spread":true,"position":{"start":{"line":246,"column":1},"end":{"line":248,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":246,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"strong","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"text","value":"Preview uploaded STAC granules collection in the Open Science Data Catalogue frontend:","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"key":"kVOWdd0EwQ"}],"key":"yHlz9OvUV8"},{"type":"text","value":"\n","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"key":"wkkj57qmiF"},{"type":"link","url":"https://opensciencedata.esa.int/products/seasfire-cube/collection","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"text","value":"https://​opensciencedata​.esa​.int​/products​/seasfire​-cube​/collection","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"key":"eMwDp2qx70"}],"urlSource":"https://opensciencedata.esa.int/products/seasfire-cube/collection","key":"mBcxVkNULa"}],"key":"r7L2Rww99q"}],"key":"v8S7METIw8"},{"type":"listItem","spread":true,"position":{"start":{"line":249,"column":1},"end":{"line":250,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"strong","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"Data can be visualized using Jupyter Notebook and dedicated ‘xarray’ Python package to further work with the datacube on-the-cloud and visualize variables.","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"UloqoHVfqR"}],"key":"eKJnskepBV"}],"key":"dF2DEkfuyr"}],"key":"X3355AZV9K"}],"key":"J4YnwtX08D"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"Full metadata contained in the .zarr file can also be read directly from the browser under: ","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"CQYWy9D5mp"},{"type":"link","url":"https://s3.waw2-1.cloudferro.com/swift/v1/AUTH_3f7e5dd853f54cebb046a29a69f1bba6/OSCAssets/seasfire/seasfire-cube/SeasFireCube_v3.zarr/.zmetadata","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"https://​s3​.waw2​-1​.cloudferro​.com​/swift​/v1​/AUTH​_3f7e5dd853f54cebb046a29a69f1bba6​/OSCAssets​/seasfire​/seasfire​-cube​/SeasFireCube​_v3​.zarr​/​.zmetadata","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"RlzrqvrARI"}],"urlSource":"https://s3.waw2-1.cloudferro.com/swift/v1/AUTH_3f7e5dd853f54cebb046a29a69f1bba6/OSCAssets/seasfire/seasfire-cube/SeasFireCube_v3.zarr/.zmetadata","key":"auRcrsnqxZ"}],"key":"gosFA3muzI"},{"type":"heading","depth":2,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"strong","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Add multiple assets at once with GitHub","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"D1pRPBBl5A"}],"key":"QHFrkI0GoB"}],"identifier":"add-multiple-assets-at-once-with-github","label":"Add multiple assets at once with GitHub","html_id":"add-multiple-assets-at-once-with-github","implicit":true,"key":"bagrb1wYP3"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"children":[{"type":"text","value":"Once created the JSON files describing each single asset of larger products collection can be imported to Open Science Data Catalogue repository of metadata at once using GitHub.","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"dt6hMBzEVa"}],"key":"MO9uSLcqXc"},{"type":"paragraph","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"For this, GitHub CLI or ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"qmasBIQr6e"},{"type":"inlineCode","value":"gh","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"cDrwKmVZ3i"},{"type":"text","value":" should be used. GitHub CLI is a command-line interface to GitHub for use in terminal or scripts. It facilitates the process of making changes in open access github repository as the one at open-science-data-catalog-metadata and allows to ingest several files at once. To work with this command-line tool. Please check the installation steps first: ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"zh3LdmW2Ab"},{"type":"link","url":"https://github.com/cli/cli/blob/trunk/docs/install_linux.md#debian-ubuntu-linux-raspberry-pi-os-apt","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"docs​/install​_linux​.md","key":"FEwlqY1h62"}],"urlSource":"https://github.com/cli/cli/blob/trunk/docs/install_linux.md#debian-ubuntu-linux-raspberry-pi-os-apt","data":{"kind":"file","org":"cli","repo":"cli","reference":"trunk","file":"docs/install_linux.md","raw":"https://raw.githubusercontent.com/cli/cli/trunk/docs/install_linux.md"},"internal":false,"protocol":"github","key":"dRLBfXU0eQ"}],"key":"arrYq1sLhO"},{"type":"paragraph","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"text","value":"To correctly install ","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"lHBrzz0K60"},{"type":"inlineCode","value":"gh","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"J9ZYLy4sbB"},{"type":"text","value":" tool, follow these instructions. Please note that instructions provided here refer to Linux Ubuntu OS, and have not been tested on any other software:","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"Ye9rfH1nO2"}],"key":"u0J1X9bTgT"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"strong","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"text","value":"Install System dependencies:","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"l5hmRu61YV"}],"key":"DIOGhyLlYN"}],"key":"eB29qi4ufb"}],"key":"ArgoOnH2RO"},{"type":"code","lang":"bash","value":"sudo apt update\nsudo apt install -y git python3 python3-pip gdal-bin tree jq parallel curl","position":{"start":{"line":262,"column":1},"end":{"line":265,"column":1}},"key":"kPIDJ2QGDI"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"strong","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"Install ‘gh’ tool. In case you encounter any issues please follow instructions from here:","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"s4JBvuo19k"}],"key":"kp7kepQO5h"},{"type":"text","value":" ","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"MedFHQANlp"},{"type":"link","url":"https://github.com/cli/cli/blob/trunk/docs/install_linux.md#debian-ubuntu-linux-raspberry-pi-os-apt","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"docs​/install​_linux​.md","key":"zyL9uiAEI4"}],"urlSource":"https://github.com/cli/cli/blob/trunk/docs/install_linux.md#debian-ubuntu-linux-raspberry-pi-os-apt","data":{"kind":"file","org":"cli","repo":"cli","reference":"trunk","file":"docs/install_linux.md","raw":"https://raw.githubusercontent.com/cli/cli/trunk/docs/install_linux.md"},"internal":false,"protocol":"github","key":"DY2oEJGyBT"}],"key":"fLjFUA3YDh"}],"key":"jsR5979sPr"},{"type":"code","lang":"bash","value":"type -p curl \\>/dev/null || (sudo apt update && sudo apt install curl -y)\ncurl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&& sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&& echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list \\> /dev/null \\\n&& sudo apt update \\\n&& sudo apt install gh -y​","position":{"start":{"line":268,"column":1},"end":{"line":275,"column":1}},"key":"T00UWKbDsR"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":277,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":277,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"strong","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"children":[{"type":"text","value":"Install Python dependencies","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"key":"I53Pc6GXxG"}],"key":"fXoggwEtCh"}],"key":"acBY3HxKdn"}],"key":"A31t0V8nhK"},{"type":"paragraph","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"text","value":"Following dependencies are necessary to make correct conversion of products to be published:","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"Ob3TanlqaJ"}],"key":"ZRgRuwQjkt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":281,"column":1},"end":{"line":283,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"inlineCode","value":"stactools","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"pAhgseb9Or"},{"type":"text","value":" - to manage STAC catalogs","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"lDDdUG4SXy"}],"key":"n55lfymSvz"},{"type":"listItem","spread":true,"position":{"start":{"line":282,"column":1},"end":{"line":283,"column":1}},"children":[{"type":"inlineCode","value":"stactools-datacube","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"uJ2s2tT4R8"},{"type":"text","value":" - to enrich STAC items with datacube metadata","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"f4Hz0p8bFi"}],"key":"VPaZLAR5nF"}],"key":"cK7P4dVA7w"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"To install following packages copy and paste following in your terminal:","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"dnyTJL3a3f"}],"key":"zqAXJLyfDb"},{"type":"code","lang":"bash","value":"pip install -U stactools stactools-datacube","position":{"start":{"line":285,"column":1},"end":{"line":287,"column":1}},"key":"efejnAlzRj"},{"type":"paragraph","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"4.","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"ZvRiAxokzY"},{"type":"strong","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Ingest products to GitHub metadata repository using GitHub CLI","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"Eb6f3097w3"}],"key":"mY9uwZQJV7"}],"key":"WPm0kchPNg"},{"type":"code","lang":"bash","value":"# clone the git repository:\ngh repo clone \\<insert-user-here\\>/open-science-catalog-metadata.git\n# enter repository\ncd open-science-catalog-metadata\n# create a new branch to work on\ngit checkout -b \\<branch-name\\>\ncd ..\n# merge the output catalog to the metadata repository\nstac merge --as-child \\\n\\<folder-with-JSON-files/catalog.json \\\n# go to the repo again and commit all new/changed files\ncd open-science-catalog-metadata\ngit add \\<project-name\\>/\\<product-name\\>\ngit commit -m\"Adding woc-l4-se-erastar-h\\_v2.0\"\ngit push --set-upstream origin \\<branch-name\\>\ngh pr create -f","position":{"start":{"line":289,"column":1},"end":{"line":306,"column":1}},"key":"dnouQgJK5O"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":307,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":307,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"strong","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"Check the status of Pull Requests in GitHub:","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"d5NJs4JupG"}],"key":"yKmBMsYnht"}],"key":"C28DuerLJ9"}],"key":"qaaRY3wGbu"},{"type":"paragraph","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"link","url":"https://github.com/EOEPCA/open-science-catalog-metadata/actions","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/EOEPCA​/open​-science​-catalog​-metadata​/actions","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"JXjxb5oKCQ"}],"urlSource":"https://github.com/EOEPCA/open-science-catalog-metadata/actions","error":true,"key":"IzmkqN1WEq"}],"key":"HcmeWXDXun"},{"type":"list","ordered":true,"start":6,"spread":false,"position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"strong","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"text","value":"Changes to the Catalogue content will be reviewed and accepted or rejected by the OSC Administrator.","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"dJTvdeEDan"}],"key":"S7mb5yZaoT"}],"key":"Z3IbeJCIkd"}],"key":"K2L1lS3Xtj"}],"key":"iuTpjh6ItT"}],"key":"kD3Lt3n9HF"},"references":{"cite":{"order":["https://doi.org/10.5281/zenodo.7568049","https://doi.org/10.5281/zenodo.8055879"],"data":{"https://doi.org/10.5281/zenodo.7568049":{"label":"https://doi.org/10.5281/zenodo.7568049","enumerator":"1","doi":"10.5281/ZENODO.7568049","html":"Maddalena, J., Leeson A, & McMillan M. (2023). <i>Supraglacial lakes derived from Sentinel-1 SAR imagery over the Watson basin on the Greenland Ice Sheet.</i> Zenodo. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.7568049\">10.5281/ZENODO.7568049</a>","url":"https://doi.org/10.5281/ZENODO.7568049"},"https://doi.org/10.5281/zenodo.8055879":{"label":"https://doi.org/10.5281/zenodo.8055879","enumerator":"2","doi":"10.5281/ZENODO.8055879","html":"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). <i>SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System</i>. Zenodo. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.8055879\">10.5281/ZENODO.8055879</a>","url":"https://doi.org/10.5281/ZENODO.8055879"}}}},"footer":{"navigation":{"prev":{"title":"DeepCode","url":"/deepcode-example","group":"EarthCODE Examples"},"next":{"title":"Generating STAC for the PRR","url":"/prr-stac-introduction","group":"EarthCODE Examples"}}},"domain":"http://localhost:3000"}